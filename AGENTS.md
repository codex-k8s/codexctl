# Инструкции для ИИ-агентов (обязательно)

## Назначение

Этот файл задает обязательные правила работы с репозиторием `codexctl`.
Цель: вести код и документацию к целевой архитектуре CLI-оркестратора,
даже если текущая реализация местами от нее отстает.

## Главные правила

- Перед изменениями читать `docs/design-guidelines/AGENTS.md`.
- Для Go-изменений обязательно читать профильные документы из `docs/design-guidelines/go/`.
- Для инфраструктурных и workflow-изменений читать `docs/design-guidelines/common/`.
- Если запрос пользователя противоречит гайдам, приостановить правки и предложить варианты решения.
- Не редактировать сами гайды без явной задачи на изменение стандартов.

## Что считать источником правды

- Архитектурный стандарт: `docs/design-guidelines/**`.
- Поведение CLI и контракты флагов/env: `README.md`, `README_RU.md`, `cmd/`, `internal/cli/`.
- Контракты интеграций с внешними публичными проектами:
  - `yaml-mcp-server`
  - `telegram-approver`
  Эти проекты являются внешними зависимостями, не внутренними пакетами `codexctl`.

## Обязательные шаги перед PR

- Пройти `docs/design-guidelines/common/check_list.md`.
- Если затронут Go-код, пройти `docs/design-guidelines/go/check_list.md`.
- Обновить документацию, если меняется поведение CLI, формат `services.yaml` или workflow-интеграции.
