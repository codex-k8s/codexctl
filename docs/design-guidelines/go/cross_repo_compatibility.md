# Кросс-репо совместимость

## Область

Документ фиксирует совместимость между:

- `codexctl`
- `yaml-mcp-server`
- `telegram-approver`

## Принципы совместимости

- `codexctl` должен быть совместим с публично задокументированными контрактами внешних репозиториев.
- Любая зависимость от недокументированного поведения считается техническим долгом.
- При изменении контрактов необходимо синхронно обновлять документацию и примеры.

## Контрактные точки

1. MCP endpoint и схема подключения серверов.
2. Формат переменных окружения для MCP/approval интеграций.
3. Timeout-модель для инструментов с ручным аппрувом.
4. Workflow-сценарии, где используется MCP review/approval.

## Политика версий

- В интеграционных примерах фиксировать совместимые версии/референсы.
- В workflow-reuse подключениях использовать tag или commit SHA.
- Избегать плавающих зависимостей там, где это влияет на стабильность CI/CD.

## Процедура при breaking changes

1. Зафиксировать изменение в changelog/релиз-нотах.
2. Добавить миграционный путь.
3. Обновить `README*` и `docs/design-guidelines/**`.
4. Добавить smoke-check сценария совместимости.
