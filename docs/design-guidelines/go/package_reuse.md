# Переиспользование Go-пакетов

## Цель

Обеспечить повторное использование без роста связности и технического долга.

## Правила

- Выносить общий код только при наличии минимум двух реальных потребителей.
- Пакет должен иметь узкий и стабильный API.
- Пакет не должен тащить лишние зависимости ради частного кейса.

## Где должен жить код

- `core`-правила: в core-пакетах.
- orchestration/use-case код: в application-пакетах.
- внешние интеграции: в adapter-пакетах.
- CLI parsing/flags/env mapping: только в cli-пакетах.

## Переиспользование между провайдерами

- Общая логика для `kubernetes/docker-compose` или `github/gitlab` живет в provider-agnostic пакетах.
- Provider-specific код не должен утекать в общие helper-пакеты.
- Любой общий helper обязан быть совместим с несколькими провайдерами, иначе он остается в provider пакете.

## Анти-паттерны

- helper-пакеты "на всё" без границ.
- переиспользование через копипасту.
- утечки инфраструктурных деталей в core.
- смешивание github и gitlab моделей в одном shared DTO без нормализации.
